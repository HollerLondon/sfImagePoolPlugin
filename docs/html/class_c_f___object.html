<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>sfImagePoolPlugin: CF_Object Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sfImagePoolPlugin</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_c_f___object.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">CF_Object Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CF_Object" --><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a5130cd8674e4d022ccc93c0f1e9a6713">__construct</a> (&amp;$container, $name, $force_exists=False, $dohead=True)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a7516ca30af0db3cdbf9a7739b48ce91d">__toString</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a00bb31daea4a638dbeb7d9a7200f96af">_guess_content_type</a> ($handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a54393aaa13e50cb35fa028db9c51a394">public_uri</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a9ff96f9972192ca3bac069c38e4cd752">public_ssl_uri</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a673113ff4b41642af8d0ee1ce1ad7001">read</a> ($hdrs=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a20530107650e91a6254a6e8b5ae64e7c">stream</a> (&amp;$fp, $hdrs=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a3dc8aa73ee52154c857f6d4312c7cb9d">sync_metadata</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a813bf8a56a19101a234953789a37cf5c">sync_manifest</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a4f232a541c390e6486903d30c995e118">write</a> ($data=NULL, $bytes=0, $verify=True)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a797fe1d883353ef174f50ae09a4d50ee">load_from_filename</a> ($filename, $verify=True)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a20ceb6d732c4f39701513855001d1f88">save_to_filename</a> ($filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a53f36b165670e98ca7c306e010a4eccb">purge_from_cdn</a> ($email=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#ada2873af994ddc258e2255e1eceb3156">set_etag</a> ($etag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a255fe68769f6bd6681c2a7e9168c1c98">getETag</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___object.html#a34cb3d444a6a325324b8f21921b20c8d">compute_md5sum</a> (&amp;$data)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab97dd40df90f4ce6f0fce9091e7c7872"></a><!-- doxytag: member="CF_Object::$container" ref="ab97dd40df90f4ce6f0fce9091e7c7872" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$container</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2fc40d43824ea3e1ce5d86dee0d763b"></a><!-- doxytag: member="CF_Object::$name" ref="ab2fc40d43824ea3e1ce5d86dee0d763b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$name</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a268f0081f68ea3b13c669f85f00dc0b3"></a><!-- doxytag: member="CF_Object::$last_modified" ref="a268f0081f68ea3b13c669f85f00dc0b3" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$last_modified</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae754d6373f275e781f47c8bc9b994b6d"></a><!-- doxytag: member="CF_Object::$content_type" ref="ae754d6373f275e781f47c8bc9b994b6d" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$content_type</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a325a8bdad93a305f702b70096633ea3c"></a><!-- doxytag: member="CF_Object::$content_length" ref="a325a8bdad93a305f702b70096633ea3c" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$content_length</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7fc3682b173ad9d4b1892bdc04d18d9"></a><!-- doxytag: member="CF_Object::$metadata" ref="ae7fc3682b173ad9d4b1892bdc04d18d9" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$metadata</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d1af7792e788060ae7e6f5cf8f28afa"></a><!-- doxytag: member="CF_Object::$manifest" ref="a4d1af7792e788060ae7e6f5cf8f28afa" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$manifest</b></td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5130cd8674e4d022ccc93c0f1e9a6713"></a><!-- doxytag: member="CF_Object::__construct" ref="a5130cd8674e4d022ccc93c0f1e9a6713" args="(&amp;$container, $name, $force_exists=False, $dohead=True)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>force_exists</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dohead</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Class constructor</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">obj</td><td class="paramname">$container</td><td><a class="el" href="class_c_f___container.html">CF_Container</a> instance </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>name of Object </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$force_exists</td><td>if set, throw an error if Object doesn't exist </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7516ca30af0db3cdbf9a7739b48ce91d"></a><!-- doxytag: member="CF_Object::__toString" ref="a7516ca30af0db3cdbf9a7739b48ce91d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__toString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>String representation of Object</p>
<p>Pretty print the Object's location and name</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string Object information </dd></dl>

</div>
</div>
<a class="anchor" id="a00bb31daea4a638dbeb7d9a7200f96af"></a><!-- doxytag: member="CF_Object::_guess_content_type" ref="a00bb31daea4a638dbeb7d9a7200f96af" args="($handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_guess_content_type </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal check to get the proper mimetype.</p>
<p>This function would go over the available PHP methods to get the MIME type.</p>
<p>By default it will try to use the PHP fileinfo library which is available from PHP 5.3 or as an PECL extension (<a href="http://pecl.php.net/package/Fileinfo">http://pecl.php.net/package/Fileinfo</a>).</p>
<p>It will get the magic file by default from the system wide file which is usually available in /usr/share/magic on Unix or try to use the file specified in the source directory of the API (share directory).</p>
<p>if fileinfo is not available it will try to use the internal mime_content_type function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$handle</td><td>name of file or buffer to guess the type from </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if successful </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_bad_content_type_exception.html">BadContentTypeException</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a34cb3d444a6a325324b8f21921b20c8d"></a><!-- doxytag: member="CF_Object::compute_md5sum" ref="a34cb3d444a6a325324b8f21921b20c8d" args="(&amp;$data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">compute_md5sum </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the MD5 checksum</p>
<p>Calculate the MD5 checksum on either a PHP resource or data. The argument may either be a local filename, open resource for reading, or a string.</p>
<p><b>WARNING:</b> if you are uploading a big file over a stream it could get very slow to compute the md5 you probably want to set the $verify parameter to False in the <a class="el" href="class_c_f___object.html#a4f232a541c390e6486903d30c995e118">write()</a> method and compute yourself the md5 before if you have it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">filename&#160;|&#160;obj&#160;|&#160;string</td><td class="paramname">$data</td><td>filename, open resource, or string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string MD5 checksum hexidecimal string </dd></dl>

</div>
</div>
<a class="anchor" id="a255fe68769f6bd6681c2a7e9168c1c98"></a><!-- doxytag: member="CF_Object::getETag" ref="a255fe68769f6bd6681c2a7e9168c1c98" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getETag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Object's MD5 checksum</p>
<p>Accessor method for reading Object's private ETag attribute.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string MD5 checksum hexidecimal string </dd></dl>

</div>
</div>
<a class="anchor" id="a797fe1d883353ef174f50ae09a4d50ee"></a><!-- doxytag: member="CF_Object::load_from_filename" ref="a797fe1d883353ef174f50ae09a4d50ee" args="($filename, $verify=True)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">load_from_filename </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>verify</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload Object data from local filename</p>
<p>This is a convenience function to upload the data from a local file. A True value for $verify will cause the method to compute the Object's MD5 checksum prior to uploading.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> $my_docs = $conn-&gt;get_container("documents"); $doc = $my_docs-&gt;get_object("README");</code></p>
<p><code> # Upload my local README's content # $doc-&gt;load_from_filename("/home/ej/cloudfiles/readme"); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>full path to local file </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$verify</td><td>enable local/remote MD5 checksum validation </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if data uploaded successfully </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_syntax_exception.html">SyntaxException</a></td><td>missing required parameters </td></tr>
    <tr><td class="paramname"><a class="el" href="class_bad_content_type_exception.html">BadContentTypeException</a></td><td>if no Content-Type was/could be set </td></tr>
    <tr><td class="paramname">MisMatchedChecksumException::$verify</td><td>is set and checksums unequal </td></tr>
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>unexpected response </td></tr>
    <tr><td class="paramname"><a class="el" href="class_i_o_exception.html">IOException</a></td><td>error opening file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9ff96f9972192ca3bac069c38e4cd752"></a><!-- doxytag: member="CF_Object::public_ssl_uri" ref="a9ff96f9972192ca3bac069c38e4cd752" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public_ssl_uri </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>String representation of the Object's public SSL URI</p>
<p>A string representing the Object's public SSL URI assuming that it's parent Container is CDN-enabled.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> # Print out the Object's CDN SSL URI (if it has one) in an HTML img-tag # print "&lt;img src='$pic-&gt;public_ssl_uri()' /&gt;\n"; </code></p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string Object's public SSL URI or NULL </dd></dl>

</div>
</div>
<a class="anchor" id="a54393aaa13e50cb35fa028db9c51a394"></a><!-- doxytag: member="CF_Object::public_uri" ref="a54393aaa13e50cb35fa028db9c51a394" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public_uri </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>String representation of the Object's public URI</p>
<p>A string representing the Object's public URI assuming that it's parent Container is CDN-enabled.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> # Print out the Object's CDN URI (if it has one) in an HTML img-tag # print "&lt;img src='$pic-&gt;public_uri()' /&gt;\n"; </code></p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string Object's public URI or NULL </dd></dl>

</div>
</div>
<a class="anchor" id="a53f36b165670e98ca7c306e010a4eccb"></a><!-- doxytag: member="CF_Object::purge_from_cdn" ref="a53f36b165670e98ca7c306e010a4eccb" args="($email=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">purge_from_cdn </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>email</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Purge this Object from CDN Cache. Example: <code> # ... authentication code excluded (see previous examples) ... # $conn = new <a class="el" href="class_c_f___authentication.html">CF_Authentication</a>($auth); $container = $conn-&gt;get_container("cdn_enabled"); $obj = $container-&gt;get_object("object"); $obj-&gt;purge_from_cdn("user@domain.com"); # or $obj-&gt;<a class="el" href="class_c_f___object.html#a53f36b165670e98ca7c306e010a4eccb">purge_from_cdn()</a>; # or $obj-&gt;purge_from_cdn("user1@domain.com,user2@domain.com"); </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean True if successful </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_c_d_n_not_enabled_exception.html">CDNNotEnabledException</a></td><td>if CDN Is not enabled on this connection </td></tr>
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>if the response expected is not returned </td></tr>
  </table>
  </dd>
</dl>
<p></code></p>

</div>
</div>
<a class="anchor" id="a673113ff4b41642af8d0ee1ce1ad7001"></a><!-- doxytag: member="CF_Object::read" ref="a673113ff4b41642af8d0ee1ce1ad7001" args="($hdrs=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">read </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>hdrs</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read the remote Object's data</p>
<p>Returns the Object's data. This is useful for smaller Objects such as images or office documents. Object's with larger content should use the <a class="el" href="class_c_f___object.html#a20530107650e91a6254a6e8b5ae64e7c">stream()</a> method below.</p>
<p>Pass in $hdrs array to set specific custom HTTP headers such as If-Match, If-None-Match, If-Modified-Since, Range, etc.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> $my_docs = $conn-&gt;get_container("documents"); $doc = $my_docs-&gt;get_object("README"); $data = $doc-&gt;<a class="el" href="class_c_f___object.html#a673113ff4b41642af8d0ee1ce1ad7001">read()</a>; # read image content into a string variable print $data;</code></p>
<p><code> # Or see <a class="el" href="class_c_f___object.html#a20530107650e91a6254a6e8b5ae64e7c">stream()</a> below for a different example. # </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$hdrs</td><td>user-defined headers (Range, If-Match, etc.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string Object's data </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>unexpected response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a20ceb6d732c4f39701513855001d1f88"></a><!-- doxytag: member="CF_Object::save_to_filename" ref="a20ceb6d732c4f39701513855001d1f88" args="($filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">save_to_filename </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Save Object's data to local filename</p>
<p>Given a local filename, the Object's data will be written to the newly created file.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> # Whoops! I deleted my local README, let me download/save it # $my_docs = $conn-&gt;get_container("documents"); $doc = $my_docs-&gt;get_object("README");</code></p>
<p><code> $doc-&gt;save_to_filename("/home/ej/cloudfiles/readme.restored"); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>name of local file to write data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if successful </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_i_o_exception.html">IOException</a></td><td>error opening file </td></tr>
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>unexpected response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ada2873af994ddc258e2255e1eceb3156"></a><!-- doxytag: member="CF_Object::set_etag" ref="ada2873af994ddc258e2255e1eceb3156" args="($etag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_etag </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>etag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set Object's MD5 checksum</p>
<p>Manually set the Object's ETag. Including the ETag is mandatory for Cloud Files to perform end-to-end verification. Omitting the ETag forces the user to handle any data integrity checks.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$etag</td><td>MD5 checksum hexidecimal string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a20530107650e91a6254a6e8b5ae64e7c"></a><!-- doxytag: member="CF_Object::stream" ref="a20530107650e91a6254a6e8b5ae64e7c" args="(&amp;$fp, $hdrs=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>hdrs</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Streaming read of Object's data</p>
<p>Given an open PHP resource (see PHP's fopen() method), fetch the Object's data and write it to the open resource handle. This is useful for streaming an Object's content to the browser (videos, images) or for fetching content to a local file.</p>
<p>Pass in $hdrs array to set specific custom HTTP headers such as If-Match, If-None-Match, If-Modified-Since, Range, etc.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> # Assuming this is a web script to display the README to the # user's browser: # &lt;?php // grab README from storage system // $my_docs = $conn-&gt;get_container("documents"); $doc = $my_docs-&gt;get_object("README");</code></p>
<p><code> // Hand it back to user's browser with appropriate content-type // header("Content-Type: " . $doc-&gt;content_type); $output = fopen("php://output", "w"); $doc-&gt;stream($output); # stream object content to PHP's output buffer fclose($output); ?&gt;</code></p>
<p><code> # See <a class="el" href="class_c_f___object.html#a673113ff4b41642af8d0ee1ce1ad7001">read()</a> above for a more simple example. # </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$fp</td><td>open resource for writing data to </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$hdrs</td><td>user-defined headers (Range, If-Match, etc.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string Object's data </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>unexpected response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a813bf8a56a19101a234953789a37cf5c"></a><!-- doxytag: member="CF_Object::sync_manifest" ref="a813bf8a56a19101a234953789a37cf5c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sync_manifest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Store new Object manifest</p>
<p>Write's an Object's manifest to the remote Object. This will overwrite an prior Object manifest.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> $my_docs = $conn-&gt;get_container("documents"); $doc = $my_docs-&gt;get_object("README");</code></p>
<p><code> # Define new manifest for the object # $doc-&gt;manifest = "container/prefix";</code></p>
<p><code> # Push the new manifest up to the storage system # $doc-&gt;<a class="el" href="class_c_f___object.html#a813bf8a56a19101a234953789a37cf5c">sync_manifest()</a>; </code></p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if successful, <code>False</code> otherwise </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>unexpected response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3dc8aa73ee52154c857f6d4312c7cb9d"></a><!-- doxytag: member="CF_Object::sync_metadata" ref="a3dc8aa73ee52154c857f6d4312c7cb9d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sync_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Store new Object metadata</p>
<p>Write's an Object's metadata to the remote Object. This will overwrite an prior Object metadata.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> $my_docs = $conn-&gt;get_container("documents"); $doc = $my_docs-&gt;get_object("README");</code></p>
<p><code> # Define new metadata for the object # $doc-&gt;metadata = array( "Author" =&gt; "EJ", "Subject" =&gt; "How to use the PHP tests", "Version" =&gt; "1.2.2" );</code></p>
<p><code> # Push the new metadata up to the storage system # $doc-&gt;<a class="el" href="class_c_f___object.html#a3dc8aa73ee52154c857f6d4312c7cb9d">sync_metadata()</a>; </code></p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if successful, <code>False</code> otherwise </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>unexpected response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4f232a541c390e6486903d30c995e118"></a><!-- doxytag: member="CF_Object::write" ref="a4f232a541c390e6486903d30c995e118" args="($data=NULL, $bytes=0, $verify=True)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">write </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>data</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bytes</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>verify</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload Object's data to Cloud Files</p>
<p>Write data to the remote Object. The $data argument can either be a PHP resource open for reading (see PHP's fopen() method) or an in-memory variable. If passing in a PHP resource, you must also include the $bytes parameter.</p>
<p>Example: <code> # ... authentication/connection/container code excluded # ... see previous examples</code></p>
<p><code> $my_docs = $conn-&gt;get_container("documents"); $doc = $my_docs-&gt;get_object("README");</code></p>
<p><code> # Upload placeholder text in my README # $doc-&gt;write("This is just placeholder text for now..."); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;resource</td><td class="paramname">$data</td><td>string or open resource </td></tr>
    <tr><td class="paramtype">float</td><td class="paramname">$bytes</td><td>amount of data to upload (required for resources) </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$verify</td><td>generate, send, and compare MD5 checksums </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> when data uploaded successfully </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_syntax_exception.html">SyntaxException</a></td><td>missing required parameters </td></tr>
    <tr><td class="paramname"><a class="el" href="class_bad_content_type_exception.html">BadContentTypeException</a></td><td>if no Content-Type was/could be set </td></tr>
    <tr><td class="paramname">MisMatchedChecksumException::$verify</td><td>is set and checksums unequal </td></tr>
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>unexpected response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/benlancaster/Sites/ThisWater/plugins/sfImagePoolPlugin/lib/vendor/rackspace/cloudfiles.php</li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_c_f___object.html">CF_Object</a>      </li>
      <li class="footer">Generated on Wed Jul 6 2011 11:55:18 for sfImagePoolPlugin by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
