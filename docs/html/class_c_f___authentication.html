<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>sfImagePoolPlugin: CF_Authentication Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sfImagePoolPlugin</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_c_f___authentication.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">CF_Authentication Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CF_Authentication" --><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#a7f7f09656cdf99736eb229d88b6b498a">__construct</a> ($username=NULL, $api_key=NULL, $account=NULL, $auth_host=US_AUTHURL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#abc5fee3827641f47147c348aa696a790">ssl_use_cabundle</a> ($path=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#a0e0e70c2d32bf57c6d39e3705bcc7f27">authenticate</a> ($version=DEFAULT_CF_API_VERSION)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#a2356bfb8d8649ebc3cd865dd28338f49">load_cached_credentials</a> ($auth_token, $storage_url, $cdnm_url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#a1d02a3072c3ac4c6d09ab612dfb87ef1">export_credentials</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#a482eaffde72116381864fe8c1ccccfaf">authenticated</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#aad6c4bf3f528d9e247626a866850d273">setDebug</a> ($bool)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ab177d9cf58edd975ecd41be2f9c36f"></a><!-- doxytag: member="CF_Authentication::$dbug" ref="a7ab177d9cf58edd975ecd41be2f9c36f" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$dbug</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0eb82aa5f81cf845de4b36cd653c42cf"></a><!-- doxytag: member="CF_Authentication::$username" ref="a0eb82aa5f81cf845de4b36cd653c42cf" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$username</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a186dfe06d14a3bc248c4eb4bcdaec562"></a><!-- doxytag: member="CF_Authentication::$api_key" ref="a186dfe06d14a3bc248c4eb4bcdaec562" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$api_key</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0dc91dbb180be56b40a35f9775e9d8b3"></a><!-- doxytag: member="CF_Authentication::$auth_host" ref="a0dc91dbb180be56b40a35f9775e9d8b3" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$auth_host</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19ec872392da5d6131f9ad03b6c98339"></a><!-- doxytag: member="CF_Authentication::$account" ref="a19ec872392da5d6131f9ad03b6c98339" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$account</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_f___authentication.html#a409f37f5cd166863b0097ecfd419621c">$storage_url</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c2808e2ca521f34d8dffebe0df52498"></a><!-- doxytag: member="CF_Authentication::$cdnm_url" ref="a8c2808e2ca521f34d8dffebe0df52498" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$cdnm_url</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c384236f765fd9157e02cc5b670035e"></a><!-- doxytag: member="CF_Authentication::$auth_token" ref="a8c384236f765fd9157e02cc5b670035e" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$auth_token</b></td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7f7f09656cdf99736eb229d88b6b498a"></a><!-- doxytag: member="CF_Authentication::__construct" ref="a7f7f09656cdf99736eb229d88b6b498a" args="($username=NULL, $api_key=NULL, $account=NULL, $auth_host=US_AUTHURL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>username</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>api_key</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>account</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>auth_host</em> = <code>US_AUTHURL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Class constructor (PHP 5 syntax)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>Mosso username </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$api_key</td><td>Mosso API Access Key </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$account</td><td><em>Account name</em> </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$auth_host</td><td><em><a class="el" href="class_authentication.html">Authentication</a> service URI</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0e0e70c2d32bf57c6d39e3705bcc7f27"></a><!-- doxytag: member="CF_Authentication::authenticate" ref="a0e0e70c2d32bf57c6d39e3705bcc7f27" args="($version=DEFAULT_CF_API_VERSION)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authenticate </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>version</em> = <code>DEFAULT_CF_API_VERSION</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attempt to validate Username/API Access Key</p>
<p>Attempts to validate credentials with the authentication service. It either returns <code>True</code> or throws an Exception. Accepts a single (optional) argument for the storage system API version.</p>
<p>Example: <code> # Create the authentication instance # $auth = new <a class="el" href="class_c_f___authentication.html">CF_Authentication</a>("username", "api_key");</code></p>
<p><code> # Perform authentication request # $auth-&gt;<a class="el" href="class_c_f___authentication.html#a0e0e70c2d32bf57c6d39e3705bcc7f27">authenticate()</a>; </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$version</td><td>API version for Auth service (optional) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if successfully authenticated </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_authentication_exception.html">AuthenticationException</a></td><td>invalid credentials </td></tr>
    <tr><td class="paramname"><a class="el" href="class_invalid_response_exception.html">InvalidResponseException</a></td><td>invalid response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a482eaffde72116381864fe8c1ccccfaf"></a><!-- doxytag: member="CF_Authentication::authenticated" ref="a482eaffde72116381864fe8c1ccccfaf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authenticated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make sure the <a class="el" href="class_c_f___authentication.html">CF_Authentication</a> instance has authenticated.</p>
<p>Ensures that the instance variables necessary to communicate with Cloud Files have been set from a previous <a class="el" href="class_c_f___authentication.html#a0e0e70c2d32bf57c6d39e3705bcc7f27">authenticate()</a> call.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if successfully authenticated </dd></dl>

</div>
</div>
<a class="anchor" id="a1d02a3072c3ac4c6d09ab612dfb87ef1"></a><!-- doxytag: member="CF_Authentication::export_credentials" ref="a1d02a3072c3ac4c6d09ab612dfb87ef1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">export_credentials </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Grab Cloud Files info to be Cached for later use with the load_cached_credentials method.</p>
<p>Example: <code> #Create an Auth instance $auth = new <a class="el" href="class_c_f___authentication.html">CF_Authentication</a>("UserName","API_Key"); $auth-&gt;<a class="el" href="class_c_f___authentication.html#a0e0e70c2d32bf57c6d39e3705bcc7f27">authenticate()</a>; $array = $auth-&gt;<a class="el" href="class_c_f___authentication.html#a1d02a3072c3ac4c6d09ab612dfb87ef1">export_credentials()</a>; </code></p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array of url's and an auth token. </dd></dl>

</div>
</div>
<a class="anchor" id="a2356bfb8d8649ebc3cd865dd28338f49"></a><!-- doxytag: member="CF_Authentication::load_cached_credentials" ref="a2356bfb8d8649ebc3cd865dd28338f49" args="($auth_token, $storage_url, $cdnm_url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">load_cached_credentials </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>auth_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>storage_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>cdnm_url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Use Cached Token and Storage URL's rather then grabbing from the Auth System</p>
<p>Example: <code> #Create an Auth instance $auth = new CF_Authentication(); #Pass Cached URL's and Token as Args $auth-&gt;load_cached_credentials("auth_token", "storage_url", "cdn_management_url"); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$auth_token</td><td>A Cloud Files Auth Token (Required) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$storage_url</td><td>The Cloud Files Storage URL (Required) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$cdnm_url</td><td>CDN Management URL (Required) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean <code>True</code> if successful </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_syntax_exception.html">SyntaxException</a></td><td>If any of the Required Arguments are missing </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad6c4bf3f528d9e247626a866850d273"></a><!-- doxytag: member="CF_Authentication::setDebug" ref="aad6c4bf3f528d9e247626a866850d273" args="($bool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setDebug </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Toggle debugging - set cURL verbose flag </p>

</div>
</div>
<a class="anchor" id="abc5fee3827641f47147c348aa696a790"></a><!-- doxytag: member="CF_Authentication::ssl_use_cabundle" ref="abc5fee3827641f47147c348aa696a790" args="($path=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssl_use_cabundle </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>path</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Use the Certificate Authority bundle included with this API</p>
<p>Most versions of PHP with cURL support include an outdated Certificate Authority (CA) bundle (the file that lists all valid certificate signing authorities). The SSL certificates used by the Cloud Files storage system are perfectly valid but have been created/signed by a CA not listed in these outdated cURL distributions.</p>
<p>As a work-around, we've included an updated CA bundle obtained directly from cURL's web site (<a href="http://curl.haxx.se">http://curl.haxx.se</a>). You can direct the API to use this CA bundle by calling this method prior to making any remote calls. The best place to use this method is right after the <a class="el" href="class_c_f___authentication.html">CF_Authentication</a> instance has been instantiated.</p>
<p>You can specify your own CA bundle by passing in the full pathname to the bundle. You can use the included CA bundle by leaving the argument blank.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>Specify path to CA bundle (default to included) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a409f37f5cd166863b0097ecfd419621c"></a><!-- doxytag: member="CF_Authentication::$storage_url" ref="a409f37f5cd166863b0097ecfd419621c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$storage_url</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Instance variables that are set after successful authentication </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/benlancaster/Sites/ThisWater/plugins/sfImagePoolPlugin/lib/vendor/rackspace/cloudfiles.php</li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_c_f___authentication.html">CF_Authentication</a>      </li>
      <li class="footer">Generated on Wed Jul 6 2011 11:55:18 for sfImagePoolPlugin by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
